let pokemonRepository=(()=>{let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150",i=()=>e,a=t=>{"object"==typeof t&&"name"in t&&"detailsUrl"in t&&e.push(t)},l=e=>{let t=document.querySelector(".list-group"),i=document.createElement("li"),a=document.createElement("button");a.innerText=e.name,a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModal"),a.classList.add("pokemon-button"),i.appendChild(a),t.appendChild(i),a.addEventListener("click",()=>p(e))},o=()=>fetch(t).then(e=>e.json()).then(e=>{e.results.forEach(e=>{let t={name:e.name,detailsUrl:e.url};a(t),console.log(t)})}).catch(e=>{console.error(e)}),n=e=>fetch(e.detailsUrl).then(e=>e.json()).then(t=>{e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.abilities=[];for(let i=0;t.abilities.length;i++)e.abilities.push(t.abilities[i].ability.name)}).catch(e=>{console.error(e)}),p=e=>{n(e).then(()=>{s(e)})};function s(e){let t=$(".modal-body"),i=$(".modal-title");i.empty(),t.empty();let a=$("<h1>"+e.name+"</h1>"),l=$("<p>height: "+e.height+"</p>"),o=$("<p>weight: "+e.weight+"</p>"),n=$("<p>abilities: "+e.abilities+"</p>"),p=$('<img class="modal-img">');p.attr("src",e.imageUrl),i.append(a),t.append(p),t.append(l),t.append(o),t.append(n)}return{getAll:i,add:a,addListItem:l,showDetails:p,loadList:o,loadDetails:n}})();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});